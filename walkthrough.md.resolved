# ğŸ“‹ Walkthrough - Sistema de RecomendaÃ§Ã£o FarmacÃªutica

## ğŸ¯ Objetivo do Sistema

Sistema de recomendaÃ§Ã£o de fÃ³rmulas magistrais baseado na **Farmacopeia Brasileira 6Âª EdiÃ§Ã£o**, 
que analisa sintomas do paciente e sugere medicamentos manipulados apropriados.

## ğŸ“Š Status Final

| Componente | Status |
|------------|--------|
| Ingestor de PDFs | âœ… Funcionando |
| ExtraÃ§Ã£o de Monografias | âœ… 588 monografias |
| Vectorstore | âœ… 4493 chunks |
| ExpansÃ£o Inteligente (LLM) | âœ… Funcionando |
| Mapeamento Manual | âœ… ~280+ termos |
| Interface Streamlit | âœ… Funcionando |
| Mensagens de Erro | âœ… Explicativas |

---

## âœ… Sintomas que FUNCIONAM

O sistema gera recomendaÃ§Ãµes corretas para:

| Sintoma | Medicamento Sugerido |
|---------|---------------------|
| dor de cabeÃ§a e febre | PARACETAMOL + DIPIRONA |
| tosse com catarro | ACETILCISTEÃNA |
| alergia e dermatite | HIDROCORTISONA + DEXCLORFENIRAMINA |
| diabetes | METFORMINA + GLIBENCLAMIDA |
| infecÃ§Ã£o bacteriana | FENOXIMETILPENICILINA |
| inflamaÃ§Ã£o e dor muscular | DICLOFENACO + CICLOBENZAPRINA |
| ansiedade e insÃ´nia | DIAZEPAM + FENOBARBITAL |
| herpes | ACICLOVIR |
| pressÃ£o alta | CAPTOPRIL + ATENOLOL |
| falta de ar e asma | AMINOFILINA + SALBUTAMOL |
| azia/queimaÃ§Ã£o | BICARBONATO DE SÃ“DIO |
| frieira/micose | ÃCIDO UNDECILÃŠNICO + MICONAZOL |
| dor nas articulaÃ§Ãµes | NAPROXENO + SALICILATO |

### ğŸ—£ï¸ Linguagem Natural Suportada

O sistema entende variaÃ§Ãµes informais:
- "tÃ´ mal, cabeÃ§a explodindo" âœ…
- "estÃ´mago pegando fogo" âœ…
- "garganta arranhando" âœ…
- "mano, bucho zoado" âœ…

---

## âš ï¸ LimitaÃ§Ãµes da Farmacopeia Brasileira

### Medicamentos NÃƒO disponÃ­veis na base:

| Classe | Exemplo | Motivo |
|--------|---------|--------|
| Antidiarreico | LOPERAMIDA | NÃ£o consta na Farmacopeia |
| Antivertiginoso | BETAHISTINA | NÃ£o consta na Farmacopeia |
| ColÃ­rios especÃ­ficos | LÃGRIMA ARTIFICIAL | NÃ£o consta na Farmacopeia |
| AntitussÃ­geno | DEXTROMETORFANO | NÃ£o consta na Farmacopeia |

### Quando o sistema nÃ£o encontra medicamento:

O sistema exibe uma mensagem explicativa:

> **âš ï¸ Medicamento NÃ£o DisponÃ­vel na Farmacopeia**
> 
> A Farmacopeia Brasileira 6Âª EdiÃ§Ã£o Ã© um documento oficial que contÃ©m 
> monografias de medicamentos especÃ­ficos. Nem todos os medicamentos 
> existentes no mercado estÃ£o catalogados neste documento.
> 
> **Isso NÃƒO significa que nÃ£o existe tratamento** - apenas que o 
> medicamento adequado nÃ£o estÃ¡ disponÃ­vel na base de dados oficial.

---

## ğŸ”§ Arquitetura do Sistema

```
UsuÃ¡rio digita sintomas
        â†“
[ExpansÃ£o Inteligente via LLM]
   - LLM analisa sintomas
   - Sugere classes terapÃªuticas
        â†“
[ExpansÃ£o Manual via Mapeamento]
   - ~280+ termos mapeados
   - Fallback/complemento
        â†“
[Busca no Vectorstore]
   - 4493 chunks indexados
   - Apenas medicamentos da Farmacopeia
        â†“
[LLM Gera RecomendaÃ§Ã£o]
   - Usa APENAS medicamentos encontrados
   - NÃ£o inventa medicamentos
        â†“
Exibe fÃ³rmula + dosagem + alertas
```

---

## ğŸ“ Arquivos Principais

| Arquivo | FunÃ§Ã£o |
|---------|--------|
| [src/ingestor.py](file:///c:/Users/LinkBiz/Desktop/IA%20Farmacia/src/ingestor.py) | Extrai monografias do PDF |
| [src/core_ai.py](file:///c:/Users/LinkBiz/Desktop/IA%20Farmacia/src/core_ai.py) | Motor RAG + expansÃ£o inteligente |
| [src/app.py](file:///c:/Users/LinkBiz/Desktop/IA%20Farmacia/src/app.py) | Interface Streamlit |
| [data/monografias_backup.json](file:///c:/Users/LinkBiz/Desktop/IA%20Farmacia/data/monografias_backup.json) | Backup das monografias |

---

## ğŸš€ Como Executar

```powershell
# 1. Ativar ambiente
.\venv\Scripts\activate

# 2. Iniciar interface
.\venv\Scripts\streamlit run src/app.py

# 3. Reindexar (se necessÃ¡rio)
Remove-Item -Recurse -Force data/vectorstore
.\venv\Scripts\python.exe src/ingestor.py
```

---

## ğŸ“ˆ EstatÃ­sticas

- **588 monografias** extraÃ­das do Volume 2
- **157 classes terapÃªuticas** identificadas
- **~280+ termos** mapeados (formais + informais)
- **4493 chunks** no vectorstore
- **2 PDFs** processados (volume1.pdf ignorado, volume2.pdf extraÃ­do)
